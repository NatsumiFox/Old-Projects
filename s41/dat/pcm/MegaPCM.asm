
; ===============================================================
; Mega PCM Driver Include File
; (c) 2012, Vladikcomper
; ===============================================================

; ---------------------------------------------------------------
; Variables used in DAC table
; ---------------------------------------------------------------

; flags
panLR	= $C0
panL	= $80
panR	= $40
pcm	= 0
dpcm	= 4
loop	= 2
pri	= 1

; ---------------------------------------------------------------
; Macros
; ---------------------------------------------------------------

z80word macro Value
	dc.w	((\Value)&$FF)<<8|((\Value)&$FF00)>>8
	endm

; ---------------------------------------------------------------
; Driver's code
; ---------------------------------------------------------------

MegaPCM:
	incbin	'dat/pcm/MegaPCM.z80'

; ---------------------------------------------------------------
; DAC Samples Table
; ---------------------------------------------------------------

_pcm		equ $350000
_pcm_end	equ (_pcm+$1AFDA)
	dc.b	pcm+panLR		; 00h	- Flags
	dc.b	$11			; 01h	- Pitch
	dc.b	(_pcm>>15)&$FF		; 02h	- Start Bank
	dc.b	(_pcm_end>>15)&$FF	; 03h	- End Bank
	z80word	(_pcm)|$8000		; 04h	- Start Offset (in Start bank)
	z80word	(_pcm_end-1)|$8000	; 06h	- End Offset (in End bank)

MegaPCM_End:

